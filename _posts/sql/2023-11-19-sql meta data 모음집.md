---
title: git 블로그 만들기
author: 형장
date: 2019-08-08 14:10:00 +0800
categories: [db, meta query]
tags: [db]
render_with_liquid: false
---

# 각 db 별 meta data 추출 sql문

## 1. DB2 
```
SELECT TABLES.CREATOR -- 스키마
    , TABLES.NAME -- 테이블 이름
    , TABLES.REMARKS -- 테이블description
    , TABLES.TYPE -- 테이블타입
    , COLUMNS.NAME -- 컬럼 이름
    , COLUMNS.REMARKS -- 컬럼description
    , COLUMNS.KEYSEQ -- 해당테이블 PK
    , COLUMNS.COLTYPE -- 컬럼타입
    , COLUMNS.LENGTH -- 컬럼길이
    , COLUMNS.SCALE -- 컬럼이DECIMAL일시SCALE
    , COLUMNS.COLNO -- 컬럼순서
FROM 
	SYSIBM.SYSTABLES TABLES
    LEFT JOIN SYSIBM.SYSCOLUMNS COLUMNS
    ON TABLES.CREATOR = COLUMNS.TBCREATOR
    AND TABLES.NAME = COLUMNS.TBNAME
ORDER BY 
	TABLES.NAME, COLUMNS.COLNO
```

## 2. ORACLE
```
SELECT COLUMNS.OWNER -- 테이블 스키마
    , COLUMNS.TABLE_NAME -- 테이블 이름
    , TC.COMMENTS -- 테이블DESCRIPTION
    , COLUMNS.COLUMN_NAME -- 컬럼이름
    , CC.COMMENTS -- 컬럼DESCRIPTION
    , COLUMNS.DATA_TYPE -- 컬럼테이터 타입
    , CASE WHEN PK.CONSTRAINT_TYPE IS NOT NULL THEN PKC.POSITION ELSE 0 END KEYSEQ -- 컬럼 PK
    , COLUMNS.DATA_LENGTH -- 컬럼길이
    , COLUMNS.DATA_PRECISION -- 컬럼이숫자일시 사용되는 길이
    , COLUMNS.DATA_SCALE -- 컬럼이 숫자일시 사용되는 SCALE
    , COLUMNS.COLUMN_ID -- 컬럼 순서
FROM
	ALL_TAB_COLUMNS COLUMNS
    LEFT JOIN ALL_COL_COMMENTS CC
    ON COLUMNS.OWNER = CC.OWNER
    AND COLUMNS.TABLE_NAME = CC.TABLE_NAME
    AND COLUMNS.COLUMN_NAME = CC.COLUMN_NAME
    LEFT JOIN ALL_TAB_COMMENTS TC
    ON COLUMNS.OWNER = TC.OWNER
    AND COLUMNS.TABLE_NAME = TC.TABLE_NAME
    LEFT JOIN ALL_CONS_COLUMNS PKC
    ON COLUMNS.OWNER = PKC.OWNER
    AND COLUMNS.TABLE_NAME = PKC.TABLE_NAME
    AND COLUMNS.COLUMN_NAME = PKC.COLUMN_NAME
    LEFT JOIN ALL_CONSTRAINTS PK
    ON PKC.TABLE_NAME = PK.TABLE_NAME
    AND PKC.CONSTRAINT_NAME = PK.CONSTRAINT_NAME
    AND PK.CONSTRAINT_TYPE = 'P'
```
